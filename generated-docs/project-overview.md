Last updated: 2025-11-11

# Project Overview

## プロジェクト概要
- Obsidianノートアプリの機能を拡張するプラグインです。
- 見出しや箇条書きリストの階層を、再帰的にまとめて折りたたみ/展開できます。
- 大規模なノートの管理を効率化し、視点の切り替えを容易にします。

## 技術スタック
- フロントエンド: Obsidian (このプラグインが動作する環境であり、そのAPIを利用して機能を提供します)
- 音楽・オーディオ: (該当する技術はありません)
- 開発ツール:
    - TypeScript: Microsoftが開発したJavaScriptに型システムを加えた言語。大規模なアプリケーション開発を容易にします。
    - ESLint: コードの品質とスタイルを維持するための静的解析ツール。問題のあるパターンを特定し、修正を提案します。
    - Node.js (`@types/node`): JavaScriptのランタイム環境。開発ツールの実行基盤となります。
- テスト:
    - ESLint: コードの品質を保証するための静的解析ツールとして、間接的にテストの役割も果たします。
- ビルドツール:
    - esbuild: 非常に高速なJavaScriptおよびTypeScriptのバンドラー兼ミニファイア。プラグインの配布用ファイルを生成します。
    - tslib: TypeScriptが出力するヘルパー関数を含むランタイムライブラリ。
- 言語機能:
    - TypeScript: 静的型付けにより、開発中のエラーを減らし、コードの可読性と保守性を向上させます。
- 自動化・CI/CD:
    - `version-bump.mjs`: バージョン番号の自動更新など、リリースプロセスの一部を自動化するカスタムスクリプトです。
- 開発標準:
    - ESLint: コーディングスタイルと品質の一貫性を保つためのルールセットを定義します。
    - EditorConfig: 異なるエディタやIDEを使用する開発者間で、基本的なコーディングスタイル（インデントなど）を統一するための設定ファイルです。

## ファイル階層ツリー
```
📄 .editorconfig
📄 .eslintignore
📄 .eslintrc
📄 .gitignore
📄 .npmrc
📄 LICENSE
📖 README.md
📄 esbuild.config.mjs
📁 generated-docs/
📘 main.ts
📊 manifest.json
📊 package-lock.json
📊 package.json
🎨 styles.css
📊 tsconfig.json
📄 version-bump.mjs
📊 versions.json
```

## ファイル詳細説明
- **README.md**: プロジェクトの目的、機能、使い方、インストール方法、想定される用途、既知の問題点などを説明する主要なドキュメントファイルです。
- **main.ts**: このObsidianプラグインの主要なロジックが記述されたTypeScriptファイルです。プラグインの初期化、コマンドの登録、設定のロードと保存といった中心的な機能を含みます。
- **manifest.json**: Obsidianがプラグインを認識・ロードするために必要なメタデータ（プラグインID、名前、バージョン、作者など）を定義するファイルです。
- **package.json**: Node.jsプロジェクトの設定ファイルで、プロジェクト名、バージョン、スクリプト、依存関係（他のライブラリ）などが記述されています。
- **package-lock.json**: `package.json` に基づいてインストールされた依存関係の正確なバージョンとツリー構造を記録し、ビルドの一貫性を保証します。
- **styles.css**: プラグインが提供する機能の見た目やレイアウトを定義するためのCascading Style Sheets（CSS）ファイルです。
- **tsconfig.json**: TypeScriptコンパイラの設定ファイルで、TypeScriptコードをJavaScriptに変換する際のルールやオプションを定義します。
- **versions.json**: このプラグインが互換性を持つObsidianのバージョン情報を定義するファイルで、Obsidianがプラグインの互換性を確認するために使用します。
- **.editorconfig**: 異なるエディタを使用する開発者間で、インデントスタイルや文字コードなどの基本的なコーディングスタイルを統一するための設定ファイルです。
- **.eslintignore**: ESLintによるコード品質チェックを無視するファイルやディレクトリを指定します。
- **.eslintrc**: ESLintのルールと設定を定義するファイルで、コードの品質と一貫性を維持するために使用されます。
- **.gitignore**: Gitバージョン管理システムが追跡しないファイルやディレクトリ（例: ビルド成果物、一時ファイルなど）を指定します。
- **.npmrc**: npm（Node.jsパッケージマネージャー）の設定ファイルで、パッケージのインストールや公開に関する設定を定義します。
- **LICENSE**: プロジェクトのソフトウェアライセンス（このコードをどのように利用、配布、変更できるか）を記述したファイルです。
- **esbuild.config.mjs**: `esbuild` を使用してプラグインのソースコードをビルド（変換・最適化）するための設定を記述したJavaScriptモジュールファイルです。
- **generated-docs/**: 自動生成されたドキュメントや関連ファイルを格納するためのディレクトリです。
- **version-bump.mjs**: プラグインのバージョン番号を自動的に更新するスクリプトで、リリース準備の自動化に使用されます。

## 関数詳細説明
- **onload (main.ts)**:
    - 役割: プラグインがObsidianにロードされた際に最初に実行される初期化処理を行う関数です。
    - 機能: プラグインのコマンド登録、ユーザー設定のロード、イベントリスナーの設定などを行います。
- **if (main.ts)**:
    - 役割: `main.ts` 内で条件分岐を行う部分です。
    - 機能: 特定の条件が満たされた場合にのみ、特定のコードブロックを実行するために使用されます。
- **for (main.ts)**:
    - 役割: `main.ts` 内で繰り返し処理を行う部分です。
    - 機能: 配列やリストの各要素に対して同じ操作を繰り返したり、特定の回数だけ処理を実行したりするために使用されます。
- **onunload (main.ts)**:
    - 役割: プラグインがObsidianからアンロードされる際に実行されるクリーンアップ処理を行う関数です。
    - 機能: プラグインが使用していたリソース（登録したコマンド、イベントリスナーなど）を解放し、Obsidianの状態をきれいに保ちます。
- **loadSettings (main.ts)**:
    - 役割: プラグインのユーザー設定をObsidianのストレージから読み込む関数です。
    - 機能: プラグインの動作に必要なユーザー定義のオプションや状態をロードし、プラグインの初期設定を反映させます。
- **saveSettings (main.ts)**:
    - 役割: プラグインの現在のユーザー設定をObsidianのストレージに保存する関数です。
    - 機能: ユーザーがプラグインの設定を変更した際に、その変更内容を永続化し、次回プラグインロード時に同じ設定が適用されるようにします。

## 関数呼び出し階層ツリー
```
- if (main.ts)
  - onload (main.ts)
    - onunload ()
      - loadSettings ()
      - saveSettings ()
- for (main.ts)

---
Generated at: 2025-11-11 07:03:35 JST
